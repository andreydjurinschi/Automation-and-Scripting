## –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ1
#### –°—Ç—É–¥–µ–Ω—Ç: –î–∂—É—Ä–∏–Ω—Å–∫–∏–π –ê–Ω–¥—Ä–µ–π
#### –ì—Ä—É–ø–ø–∞: I2302

#### –ó–∞–¥–∞–Ω–∏–µ
–°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏ –≤–∞–∂–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞:
–°–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –∏–º—è backup.sh;
–°–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å –¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞: –ø—É—Ç—å –∫ –∫–∞—Ç–∞–ª–æ–≥—É –¥–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—É—Ç—å –∫ –∫–∞—Ç–∞–ª–æ–≥—É –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏;
–í—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —É–∫–∞–∑—ã–≤–∞—Ç—å –∫–∞—Ç–∞–ª–æ–≥ /backup;
–°–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞–≤–∞—Ç—å –∞—Ä—Ö–∏–≤ tar.gz —Å —Ç–µ–∫—É—â–µ–π –¥–∞—Ç–æ–π –≤ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞;
–°–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤ –∏ –≤—ã–≤–æ–¥–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö.

#### –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

1) –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞:
```bash
Calculator@Ryzen MINGW64 ~/bash_scripts (main)
$ touch backup.sh
```
2) –ü—Ä–∏—Å–≤–æ–µ–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤

```bash
PATH_TO_FILE=$1
DEST_TO_SAVE=${2:-backup}
```
`PATH_TO_FILE` - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç –ø–æ—Å–ª–µ —É–∫–∞–∑–∞–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ (–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —É–ø–∞–∫–æ–≤–∫–∏ –∫–æ–ø–∏–∏) 
`DEST_TO_SAVE` - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç –ø–æ—Å–ª–µ —É–∫–∞–∑–∞–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ (–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–ø–∏–∏). *–ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é –Ω–∞–∑–≤–∞–Ω–∏–µ `/backup`* 
3) –ò–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–± –æ—à–∏–±–∫–∞—Ö
```bash
if [ -z "$PATH_TO_FILE" ]; then #1
    echo "–≤–≤–µ–¥–∏—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è"
    exit 1
fi

if [ ! -d "$PATH_TO_FILE" ]; then #2
    echo "–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è '$PATH_TO_FILE' –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç."
    exit 1
fi

if [ ! -d "$DEST_TO_SAVE" ]; then #3
    echo "–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–ø–∏–∏ '$DEST_TO_SAVE' –Ω–µ —Å—Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Å–æ–∑–¥–∞–µ–º..."
    mkdir -p "$DEST_TO_SAVE"
fi
```

- –≤ `1` –±–ª–æ–∫–µ `if` –ø—Ä–æ–≤–µ—Ä—è—é, –µ—Å–ª–∏ –±—ã–ª–∞ —É–∫–∞–∑–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è, –∏–Ω–∞—á–µ –∑–∞–≤–µ—Ä—à–∞—é —Å–∫—Ä–∏–ø—Ç `exit 1`
- –≤ `2` –±–ª–æ–∫–µ `if` –ø—Ä–æ–≤–µ—Ä—è—é, –µ—Å–ª–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç `-d`, –∏–Ω–∞—á–µ –∑–∞–≤–µ—Ä—à–∞—é —Å–∫—Ä–∏–ø—Ç `exit 1`
- –≤ `3` –±–ª–æ–∫–µ `if` –ø—Ä–æ–≤–µ—Ä—è—é, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–ø–∏–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Ç–æ —Å–æ–∑–¥–∞—é –µ–µ

`DEST_ON_C="/c/$DEST_TO_SAVE"` - –ª—é–±–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–æ–ø–∏–∏ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–∞ –¥–∏—Å–∫–µ –°

```bash
DATE=$(date +%m-%d_%H-%M)
BASENAME=$(basename "$PATH_TO_FILE")
```
`Date` - —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞ + –≤—Ä–µ–º—è (–¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏)
`BASENAME` - –∏–º—è –∫–æ–Ω–µ—á–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ (–±–µ–∑ –≤–µ—Ä—Ö–Ω–∏—Ö —É—Ä–æ–≤–Ω–µ–π)

```bash
tar -czf "${DEST_ON_C}/${BASENAME}_${DATE}.tar.gz" -C "$(dirname "$PATH_TO_FILE")" "$BASENAME"
```

—Å–æ–∑–¥–∞–Ω–∏—è –∞—Ä—Ö–∏–≤–∞ —Å –∫–æ–ø–∏–µ–π

```bash
echo "—Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è —Å–æ–∑–¥–∞–Ω–∞ –≤: "${DEST_ON_C}/${BASENAME}_${DATE}.tar.gz""
echo "—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏ '$DEST_ON_C':"
ls "$DEST_ON_C"
```

–≤—ã–≤–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏–π


#### –¢–µ—Å—Ç–∏—Ä—É–µ–º

–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å —Ñ–∞–π–ª–æ–º –¥–ª—è –∫–æ–ø–∏–∏
![](https://i.imgur.com/fdESA5v.png)
![](https://i.imgur.com/eOsIsnF.png)

–∑–∞–ø—É—Å–∫ –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
`./backup.sh /test`
![](https://i.imgur.com/tEslPDv.png)

–∑–∞–ø—É—Å–∫ c —É–∫–∞–∑–∞–Ω–∏–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
`./backup.sh /test bimbom`
![](https://i.imgur.com/wsaXUk3.png)


#### –í—ã–≤–æ–¥—ã

–≤ —Ö–æ–¥–µ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã —è –Ω–∞–ø–∏—Å–∞–ª bash-—Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π –∫–∞—Ç–∞–ª–æ–≥–æ–≤. —Å–∫—Ä–∏–ø—Ç –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—É—Ç—å –∫ –∏—Å—Ö–æ–¥–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∞—Ä—Ö–∏–≤–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî /c/backup), –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞—ë—Ç –∏—Ö –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∞—Ä—Ö–∏–≤ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∏–º–µ–Ω–µ–º (–¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è). –±—ã–ª–æ –æ—á–µ–Ω—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ üëçüëçüëç





